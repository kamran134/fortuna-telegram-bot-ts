# Error Notification System

## –û–ø–∏—Å–∞–Ω–∏–µ

–í—Å–µ –æ—à–∏–±–∫–∏ –≤ –±–æ—Ç–µ —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å–æ–∑–¥–∞—Ç–µ–ª—é (–ø–µ—Ä–≤—ã–π ID –∏–∑ `CREATOR_IDS`) –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è Telegram.

## –ß—Ç–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è

### 1. –û—à–∏–±–∫–∏ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö
- ‚ùå –û—à–∏–±–∫–∏ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–æ–º–∞–Ω–¥ (`CommandHandler`)
- ‚ùå –û—à–∏–±–∫–∏ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ callback –∫–Ω–æ–ø–æ–∫ (`CallbackHandler`)
- ‚ùå –û—à–∏–±–∫–∏ –ø—Ä–∏ –≤—Ö–æ–¥–µ/–≤—ã—Ö–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`EventHandler`)

### 2. –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏
- ‚ùóÔ∏è Uncaught Exception - –Ω–µ–ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- ‚ùóÔ∏è Unhandled Promise Rejection - –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–æ–≤

## –§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

```
üö® Error Alert

‚è∞ Time: 19.11.2025, 15:30:45
üìç Context: Command: /start | Chat: -1001234567890
‚ùå Error: Cannot read property 'id' of undefined

Stack trace:
at CommandHandler.handleMessage (/app/src/bot/handlers/command.handler.ts:150:20)
at Bot.emit (events.js:315:20)
...
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏** - –≤–∏–¥–Ω–æ –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
‚úÖ **Stack trace** - –ø–µ—Ä–≤—ã–µ 5 —Å—Ç—Ä–æ–∫ —Å—Ç–µ–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–±–∞–≥–∞
‚úÖ **Rate limiting** - –Ω–µ –±–æ–ª–µ–µ 1 —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Å–µ–∫—É–Ω–¥—É (–æ—á–µ—Ä–µ–¥—å)
‚úÖ **HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —É–¥–æ–±–Ω–æ–µ —á—Ç–µ–Ω–∏–µ
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–µ–∑–∫–∞** - —Å–æ–æ–±—â–µ–Ω–∏—è > 4000 —Å–∏–º–≤–æ–ª–æ–≤ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

ID —Å–æ–∑–¥–∞—Ç–µ–ª—è –±–µ—Ä—ë—Ç—Å—è –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è `CREATOR_IDS` –≤ `.env`:

```bash
CREATOR_IDS=963292126,112254199
```

–ü–µ—Ä–≤—ã–π ID (963292126) –ø–æ–ª—É—á–∏—Ç –≤—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é –æ—à–∏–±–∫—É:

```typescript
import { errorNotifier } from './utils/error-notifier';

try {
  // your code
} catch (error) {
  await errorNotifier.notifyError(error as Error, 'Custom context info');
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –º–æ–∂–Ω–æ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É –≤ –ª—é–±–æ–π –∫–æ–º–∞–Ω–¥–µ.
